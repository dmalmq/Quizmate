<div class="bg-white">
  <div class="text-center bg-indigo-200 p-8 m-8 rounded-2xl">
    <% count = 0 %>
    <% @quizzes.each do |quiz| %>
      <% won_quiz = quiz.challenges.where(answered: true).count == 10 %>
      <% count += 1 if won_quiz %>
    <% end %>
    <h1>You have played a total
      <div class="text-indigo-600"><%= @challenges.where(answered: true).count %> questions!</div>
    </h1>
    <div>
      <% percentage = (count.to_f / 30) * 100 %>
      <div class="radial-progress bg-indigo-500 border-4 border-indigo-500 text-white m-8" style="--value: <%= sprintf("%.2f", percentage) %>; --size:12rem; --thickness: 1rem;">
        <%= count %>/30
        <div>quiz played</div>
      </div>
    </div>
    <%# <div class="stats bg-primary-focus text-primary-content"> %>
    <div class="stat bg-white text-left flex-col w-44 rounded-lg mr-4">
      <div class="stat-value text-black"><%= @interests.count %></div>
      <div class="stat-title text-black">Interest created</div>
      <div class="stat-actions">
      </div>
      <%# <button type="button" class="bg-emerald-400 text-white text-sm leading-6 font-medium py-2 px-3 rounded-lg">Add interest</button> %>
    </div>
    <div class="stat bg-primary-focus text-left w-44 rounded-lg ml-4">
      <div class="stat-value text-white"><%= count %></div>
      <div class="stat-title text-white">Quiz completed</div>
      <div class="stat-actions">
      </div>
      <%# <button type="button" class="bg-emerald-400 text-white text-sm leading-6 font-medium py-2 px-3 rounded-lg">Create quiz</button> %>
    </div>
    <%# </div> %>
  </div>
  <div class="mx-auto w-3/5 overflow-hidden" data-controller= "bar-chart" data-bar-chart-percentage-value="<%= @result %>" data-bar-chart-title-value="<%= @title %>">
    <canvas id="bar-chart-custom-options"></canvas>
  </div>
  <div class=""rounded-t-lg><%= link_to "Back to Interest", interests_path %></div>
</div>
